<div class="stache-action-buttons" *ngIf="routes.length">
  <div *ngIf="showSearch" class="stache-action-buttons-search-container">
    <sky-search expandMode="fit"
      [searchText]="searchText"
      (searchApply)="searchApplied($event)"
      (keyup)="onKeyUp($event)">
    </sky-search>
  </div>
  <sky-row>
    <nav class="stache-action-buttons-nav-container">
      <ng-container *ngFor="let route of filteredRoutes">

        <ng-container *ngIf="route.restricted else nonRestricted">
          <ng-container *skyRestrictedView>
            <ng-container *ngTemplateOutlet="actionButton"></ng-container>
          </ng-container>
        </ng-container>

        <ng-template #nonRestricted>
          <ng-container *ngTemplateOutlet="actionButton"></ng-container>
        </ng-template>

        <ng-template #actionButton>
          <sky-column screenSmall="6" screenMedium="4" screenLarge="3">
            <a stacheRouterLink="{{route.path}}" fragment="{{route.fragment}}" class="stache-action-button-override sky-action-button sky-btn-default sky-rounded-corners">
              <div>
                <sky-action-button-icon *ngIf="route.icon" iconType="{{route.icon}}">
                </sky-action-button-icon>
                <sky-action-button-header>
                  {{route.name}}
                </sky-action-button-header>
              </div>
              <sky-action-button-details>
                {{route.summary}}
              </sky-action-button-details>
            </a>
          </sky-column>
        </ng-template>

      </ng-container>
    </nav>
  </sky-row>
</div>
